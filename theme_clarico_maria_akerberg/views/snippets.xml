<?xml version="1.0"?>
<odoo>
    <template id="header_template_MA" inherit_id="theme_clarico.header_custom_options">
        <xpath expr="//we-select[@data-variable='header-template']/we-button[last()]" position="after">
            <we-button title="Header Style MA"
                       data-name="header_style_MA_opt"
                       data-customize-website-views="theme_clarico.option_header_03_assets,theme_clarico.customize_header_style_MA"
                       data-customize-website-variable="'header_style_MA'"
                       data-img="/theme_clarico/static/src/img/customise_option/h_style-3.jpg"/>
        </xpath>
    </template>

    <!-- DEKSTOP VIEW -->
    <template id="customize_header_style_MA" inherit_id="portal.frontend_layout"
              active="True" name="Header style MA" priority="99">
        <!-- vertical menu -->
        <xpath expr="//div[@id='wrapwrap']/header" position="after">
            <div class="te_vertical_menu">
                <section>
                    <a href="#" class="te_menu_btn_close">
                        <i class="fa fa-times te_menu_icon_close"></i>
                    </a>
                </section>
                <t t-set="website_vertical_menu"
                   t-value="request.website.viewref('theme_clarico.menu_vertical').active"/>
                <t t-if="website_vertical_menu">
                    <div t-call="theme_clarico.menu_vertical"/>
                </t>
            </div>
        </xpath>
        <xpath expr="//header/nav" position="before">
            <div class="te_header_before_overlay">
                <div class="container te_header_style_3_main">
                    <div class="te_header_top_text_mobile d-none">
                        <t t-call="theme_clarico.te_header_offer_string"/>
                    </div>

                    <!-- Search -->
                    <div class="row align-items-center mt16 te_header_style_3_inner_first">
                        <div class="col-lg-8 te_header_3_offer">
                            <section>
                                <p></p>
                                <section t-field="website.website_header_offer_ept"/>
                            </section>
                        </div>
                        <div class="col-lg-4 te_header_3_search">
                            <div class="te_header_search">
                                <div class="te_srch_icon_header">
                                    <a href="#" class="">
                                        <i class="fa fa-search te_srch_icon"/>
                                        <i class="fa fa-times te_srch_close"/>
                                    </a>
                                </div>
                                <div class="te_search_popover" tabindex="-1">
                                    <t t-call="website_sale.website_sale_products_search_box"></t>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row align-items-center py-2 te_header_style_3_inner">
                        <div class="col-lg-4">
                            <t t-set="logo_show"
                               t-value="request.website.viewref('website.option_header_brand_logo').active"/>
                            <t t-set="logo_text"
                               t-value="request.website.viewref('website.option_header_brand_name').active"/>
                            <t t-if="logo_show">
                                <a href="/" class="navbar-brand logo te_header_before_logo">
                                    <span t-field="website.logo" t-options="{'widget': 'image'}" role="img"
                                          t-att-aria-label="'Logo of %s' % website.name" t-att-title="website.name"/>
                                </a>
                            </t>
                            <t t-elif="logo_text">
                                <a class="te_header_before_logo navbar-brand" href="/" t-if="website"
                                   t-field="website.name">My Website
                                </a>
                            </t>
                            <t t-else="">
                                <t t-call="website.placeholder_header_brand"></t>
                            </t>
                        </div>
                        <div class="col-lg-8 te_login_right">
                            <!-- Header cart link -->
                            <t t-call="website_sale.header_cart_link">
                                <t t-set="search_icon_disabled" t-value="1"/>
                                <t t-set="_icon" t-value="True"/>
                                <t t-set="_item_class" t-value="'nav-item'"/>
                                <t t-set="_link_class" t-value="'nav-link'"/>
                            </t>
                            <!-- Header wishlist link -->
                            <t t-call="website_sale_wishlist.header_wishlist_link">
                                <t t-set="_icon" t-value="True"/>
                                <t t-set="_item_class" t-value="'nav-item'"/>
                                <t t-set="_link_class" t-value="'nav-link'"/>
                            </t>
                            <t t-set="website_vertical_menu"
                               t-value="request.website.viewref('theme_clarico.menu_vertical').active"/>
                            <div class="px-1 te_bar_icon" t-if="website_vertical_menu">
                                <a href="#" class="">
                                    <i class="fa fa-sliders"/>
                                </a>
                            </div>
                            <t t-set="website_sale_pricelists" t-value="website.get_pricelist_available(show_visible=True)"/>
                            <div class="px-1 te_pricelist" t-if="website_sale_pricelists and len(website_sale_pricelists)&gt;1">
                                <t t-call="website_sale.pricelist_list"/>
                            </div>
                            <div class="px-1"
                                 t-if="request.website.viewref('website.header_language_selector').active or request.website.viewref('website.header_language_selector_inline').active">
                                <t t-call="website.placeholder_header_language_selector">
                                    <t t-set="_div_classes" t-value="'ml-2'"/>
                                </t>
                            </div>
                            <div class="px-1">
                                <div class="dropdown te_user_account" t-ignore="true" t-if="not user_id._is_public()">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                        <span class="te_user_account_name"
                                              t-esc="user_id.name[:23] + '...' if user_id.name and len(user_id.name) &gt; 25 else user_id.name"/>
                                        <span class="te_user_account_icon">
                                            <i class="fa fa-user" aria-hidden="true"></i>
                                        </span>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right js_usermenu" role="menu">
                                        <a role="menuitem" class="dropdown-item te_user_name">
                                            <span class="te_user_drop_item">Hello,
                                                <span class="te_user_drop_item"
                                                      t-esc="user_id.name[:15] + '...' if user_id.name and len(user_id.name) &gt; 16 else user_id.name"/>
                                            </span>
                                        </a>
                                        <a href="/my/home" role="menuitem" class="dropdown-item">
                                            <span
                                                    class="fa fa-user"/>
                                            <span class="te_user_drop_item">My Account</span>
                                        </a>
                                        <a href="/my/orders" role="menuitem" class="dropdown-item">
                                            <span
                                                    class="fa fa-pie-chart"/>
                                            <span class="te_user_drop_item">My orders</span>
                                        </a>
                                        <a id="o_logout" class="dropdown-item"
                                           t-attf-href="/web/session/logout?redirect=/"
                                           role="menuitem">
                                            <span class="fa fa-sign-out"/>
                                            <span class="te_user_drop_item">Logout</span>
                                        </a>
                                    </div>
                                </div>
                                <div groups="base.group_public" class="te_signin"
                                     t-if="request.website.viewref('portal.user_sign_in').active">
                                    <a t-attf-href="/web/login" class="btn-link">
                                        <span class="te_user_account_name">Sign in</span>
                                        <span class="te_user_account_icon">
                                            <i class="fa fa-user" aria-hidden="true"></i>
                                        </span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </xpath>

        <!-- MOBILE VIEW -->
        <xpath expr="//header//nav" position="replace">
            <nav data-name="Navbar" class="navbar navbar-expand-md o_colored_level navbar-light d-block te_header_navbar">
                <div id="top_menu_container" class="container">
                    <div class="row align-items-center py-2 te_header_style_3_inner">
                        <div class="col-lg-8 te_login_right">
                            <!-- Header cart link -->
                            <t t-call="website_sale.header_cart_link">
                                <t t-set="search_icon_disabled" t-value="1"/>
                                <t t-set="_icon" t-value="True"/>
                                <t t-set="_item_class" t-value="'nav-item'"/>
                                <t t-set="_link_class" t-value="'nav-link'"/>
                            </t>
                            <!-- Header wishlist link -->
                            <t t-call="website_sale_wishlist.header_wishlist_link">
                                <t t-set="_icon" t-value="True"/>
                                <t t-set="_item_class" t-value="'nav-item'"/>
                                <t t-set="_link_class" t-value="'nav-link'"/>
                            </t>
                            <t t-set="website_vertical_menu"
                               t-value="request.website.viewref('theme_clarico.menu_vertical').active"/>
                            <div class="px-1 te_bar_icon" t-if="website_vertical_menu">
                                <a href="#" class="">
                                    <i class="fa fa-sliders"/>
                                </a>
                            </div>
                            <t t-set="website_sale_pricelists" t-value="website.get_pricelist_available(show_visible=True)"/>
                            <div class="px-1 te_pricelist" t-if="website_sale_pricelists and len(website_sale_pricelists)&gt;1">
                                <t t-call="website_sale.pricelist_list"/>
                            </div>
                            <div class="px-1"
                                 t-if="request.website.viewref('website.header_language_selector').active or request.website.viewref('website.header_language_selector_inline').active">
                                <t t-call="website.placeholder_header_language_selector">
                                    <t t-set="_div_classes" t-value="'ml-2'"/>
                                </t>
                            </div>
                            <div class="px-1">
                                <div class="dropdown te_user_account" t-ignore="true" t-if="not user_id._is_public()">
                                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                        <span class="te_user_account_name"
                                              t-esc="user_id.name[:23] + '...' if user_id.name and len(user_id.name) &gt; 25 else user_id.name"/>
                                        <span class="te_user_account_icon">
                                            <i class="fa fa-user" aria-hidden="true"></i>
                                        </span>
                                    </a>
                                    <div class="dropdown-menu dropdown-menu-right js_usermenu" role="menu">
                                        <a role="menuitem" class="dropdown-item te_user_name">
                                            <span class="te_user_drop_item">Hello,
                                                <span class="te_user_drop_item"
                                                      t-esc="user_id.name[:15] + '...' if user_id.name and len(user_id.name) &gt; 16 else user_id.name"/>
                                            </span>
                                        </a>
                                        <a href="/my/home" role="menuitem" class="dropdown-item">
                                            <span
                                                    class="fa fa-user"/>
                                            <span class="te_user_drop_item">My Account</span>
                                        </a>
                                        <a href="/my/orders" role="menuitem" class="dropdown-item">
                                            <span
                                                    class="fa fa-pie-chart"/>
                                            <span class="te_user_drop_item">My orders</span>
                                        </a>
                                        <a id="o_logout" class="dropdown-item"
                                           t-attf-href="/web/session/logout?redirect=/"
                                           role="menuitem">
                                            <span class="fa fa-sign-out"/>
                                            <span class="te_user_drop_item">Logout</span>
                                        </a>
                                    </div>
                                </div>
                                <div groups="base.group_public" class="te_signin"
                                     t-if="request.website.viewref('portal.user_sign_in').active">
                                    <a t-attf-href="/web/login" class="btn-link">
                                        <span class="te_user_account_name">Sign in</span>
                                        <span class="te_user_account_icon">
                                            <i class="fa fa-user" aria-hidden="true"></i>
                                        </span>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Brand -->
                    <t t-call="website.placeholder_header_brand"/>
                    <!-- Search -->
                    <div class="row align-items-center te_header_style_3_inner_first">
                        <div class="col-lg-4 te_header_3_search">
                            <div class="te_header_search">
                                <div class="te_srch_icon_header">
                                    <a href="#" class="">
                                        <i class="fa fa-search te_srch_icon"/>
                                        <i class="fa fa-times te_srch_close"/>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Navbar Toggler -->
                    <t t-call="website.navbar_toggler">
                        <!-- <t t-set="_toggler_class" t-value="'m-auto'"/>  Should not used in our overwridden version? -->
                    </t>
                    <!-- Navbar Collapse -->
                    <div id="top_menu_collapse" class="collapse navbar-collapse">
                        <t t-call="website.navbar_nav">
                            <t t-if="request.website.viewref('website.template_header_default_align_center').active">
                                <t t-set="_nav_class" t-value="'mx-auto'"/>
                            </t>
                            <t t-if="request.website.viewref('website.template_header_default_align_right').active">
                                <t t-set="_nav_class" t-value="'ml-auto'"/>
                            </t>
                            <!-- Menu -->
                            <t t-foreach="website.menu_id.child_id" t-as="submenu">
                                <t t-call="website.submenu">
                                    <t t-set="item_class" t-value="'nav-item'"/>
                                    <t t-set="link_class" t-value="'nav-link'"/>
                                </t>
                            </t>
                            <li class="o_wsale_my_wish nav-item o_wsale_my_wish_hide_empty te_wish_icon_head"></li>
                        </t>
                    </div>
                </div>
            </nav>
        </xpath>
    </template>
</odoo>
